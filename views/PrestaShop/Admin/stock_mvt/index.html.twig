{# Pagina Movimenti Magazzino - stock_mvt #}
{% extends '@PrestaShop/Admin/layout.html.twig' %}

{% block content %}
	<div class="card">
		<div class="card-header">
			<h3 class="card-title mb-3">Movimenti Magazzino</h3>
			<div class="d-flex flex-wrap justify-content-between align-items-center w-100">
				<div class="d-flex flex-wrap gap-2 align-items-center">
					<button id="add-mvt" class="btn btn-primary">Nuovo movimento</button>
					<button id="import-mvt" class="btn btn-secondary">Importa movimenti</button>
					<a href="{{ path('mpstockadv_admin_stockadv') }}" class="btn btn-outline-secondary">Torna al menu principale</a>
				</div>
				<form id="stock-mvt-search-form" class="d-flex ms-auto mt-2 mt-md-0" style="max-width:400px;">
					<input type="text" id="search-mvt" class="form-control me-2" placeholder="Cerca...">
					<button type="submit" id="search-mvt-btn" class="btn btn-outline-primary">Cerca</button>
				</form>
			</div>
		</div>
		<div class="card-body">
			<div id="stock-mvt-table"><!-- Tabella JS --></div>
		</div>
	</div>
{% endblock %}

{% block javascripts %}
	{{ parent() }}
	<script type="module">
        import StockMvtController from '{{ asset('modules/mpstockadv/views/js/controllers/admin/stockMvt.js') }}';
        const endpoints = {
            ajaxList: '{{ path('mpstockadv_admin_stockmvt_ajax_list') }}'
        };
        document.addEventListener('DOMContentLoaded', async () => {
            window.stockMvtController = new StockMvtController(endpoints);
            await window.stockMvtController.init();
        });
    </script>
{% endblock %}

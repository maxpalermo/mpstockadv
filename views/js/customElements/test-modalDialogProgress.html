<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Test ModalDialogProgress</title>
  <script type="module" src="./modalDialogProgress.js"></script>
  <style>
    body { background: #f1f3fa; font-family: 'Segoe UI', Arial, sans-serif; }
    .test-btn { margin: 40px; padding: 12px 32px; font-size: 1.1rem; }
  </style>
</head>
<body>
  <button class="test-btn" onclick="showProgress()">Mostra Progress Modal</button>
  <script type="module">
    import { ModalDialogProgressManager } from './modalDialogProgress.js';
    window.showProgress = function() {
      const modal = new ModalDialogProgressManager({
        title: 'Test Importazione',
        description: 'Simulazione avanzamento...'
      });
      let progress = 0;
      const interval = setInterval(() => {
        progress += 10;
        modal.update(progress, `Progresso: ${progress}%`, 100);
        if (progress >= 100) {
          clearInterval(interval);
          modal.showDone('Fatto!');
          setTimeout(() => modal.close(), 1200);
        }
      }, 400);

      modal.onAbort(() => {
        clearInterval(interval);
        modal.showError('Operazione annullata!');
        setTimeout(() => modal.close(), 1200);
      });
    }
  </script>
</body>
</html>
